jQuery(document).ready(function(r){function e(r,e){return r.rates[e]||(r.rates[e]=parseFloat(wc_currency_converter_params.currency_rate_default)),r}function c(r){wc_currency_converter_params.symbol_positions[r]&&(t=wc_currency_converter_params.symbol_positions[r]),i=e(i,r),jQuery("span.amount").each(function(){var e=jQuery(this).attr("data-original");void 0!==e&&0!=e||jQuery(this).attr("data-original",jQuery(this).html());if(void 0===(c=jQuery(this).attr("data-price"))||0==c){var c=jQuery(this).html();jQuery("<del></del>"+c).find("del").remove(),c=(c=(c=(c=c.replace(wc_currency_converter_params.currency_format_symbol,"")).replace(wc_currency_converter_params.thousand_sep,"")).replace(wc_currency_converter_params.decimal_sep,".")).replace(/[^0-9\.]/g,""),c=parseFloat(c),jQuery(this).attr("data-price",c)}price=i(c).from(i.settings.from).to(r),price=price.toFixed(_),price=accounting.formatNumber(price,_,wc_currency_converter_params.thousand_sep,wc_currency_converter_params.decimal_sep),u&&(price=price.replace(wc_currency_converter_params.zero_replace,"")),a[r]?"left"==t?jQuery(this).html(a[r]+price):"right"==t?jQuery(this).html(price+""+a[r]):"left_space"==t?jQuery(this).html(a[r]+" "+price):"right_space"==t&&jQuery(this).html(price+" "+a[r]):jQuery(this).html(price+" "+r),jQuery(this).attr("title",wc_currency_converter_params.i18n_oprice+c)}),jQuery("#shipping_method option").each(function(){var e=jQuery(this).attr("data-original");void 0!==e&&0!=e||(e=jQuery(this).text(),jQuery(this).attr("data-original",e));var c=e;(c=c.split(":"))[1]&&""!=c[1]&&(price=c[1],price&&(price=price.replace(wc_currency_converter_params.currency_format_symbol,""),price=price.replace(wc_currency_converter_params.thousand_sep,""),price=price.replace(wc_currency_converter_params.decimal_sep,"."),price=price.replace(/[^0-9\.]/g,""),price=parseFloat(price),price=i(price).to(r),price=price.toFixed(_),price=accounting.formatNumber(price,_,wc_currency_converter_params.thousand_sep,wc_currency_converter_params.decimal_sep),u&&(price=price.replace(wc_currency_converter_params.zero_replace,"")),jQuery(this).html(c[0]+": "+price+" "+r)))}),n(r),jQuery("body").trigger("currency_converter_switch",[r]),jQuery("ul.currency_switcher li a").removeClass("active"),jQuery('ul.currency_switcher li a[data-currencycode="'+current_currency+'"]').addClass("active"),jQuery("select.currency_switcher").val(current_currency)}function n(r){r&&jQuery(".ui-slider").each(function(){theslider=jQuery(this),values=theslider.slider("values"),original_price=""+values[1],original_price=original_price.replace(wc_currency_converter_params.currency_format_symbol,""),original_price=original_price.replace(wc_currency_converter_params.thousand_sep,""),original_price=original_price.replace(wc_currency_converter_params.decimal_sep,"."),original_price=original_price.replace(/[^0-9\.]/g,""),original_price=parseFloat(original_price),price_max=i(original_price).to(r),original_price=""+values[0],original_price=original_price.replace(wc_currency_converter_params.currency_format_symbol,""),original_price=original_price.replace(wc_currency_converter_params.thousand_sep,""),original_price=original_price.replace(wc_currency_converter_params.decimal_sep,"."),original_price=original_price.replace(/[^0-9\.]/g,""),original_price=parseFloat(original_price),price_min=i(original_price).to(r),jQuery(".price_slider_amount").find("span.from").html(price_min.toFixed(2)+" "+r),jQuery(".price_slider_amount").find("span.to").html(price_max.toFixed(2)+" "+r)})}var i=fx.noConflict(),a=jQuery.parseJSON(wc_currency_converter_params.currencies),t=wc_currency_converter_params.currency_pos,_=wc_currency_converter_params.num_decimals,u=wc_currency_converter_params.trim_zeros;window.current_currency=wc_currency_converter_params.current_currency,window.switch_currency=function(r){r||(r=current_currency),c(r)},i.rates=wc_currency_converter_params.rates,i.base=wc_currency_converter_params.base,i.settings.from=wc_currency_converter_params.currency,i=e(i,wc_currency_converter_params.currency),i=e(i,wc_currency_converter_params.current_currency),"undefined"!=typeof set_initial_currency&&jQuery.cookie("woocommerce_current_currency",set_initial_currency,{expires:7,path:"/"}),"RMB"==i.settings.from&&(i.settings.from="CNY"),jQuery(document).ready(function(r){jQuery("body").on("price_slider_create price_slider_slide price_slider_change",function(){n(current_currency)}),n(current_currency)}),jQuery("body").bind("wc_fragments_refreshed wc_fragments_loaded show_variation updated_checkout updated_shipping_method added_to_cart cart_page_refreshed cart_widget_refreshed updated_addons",function(){current_currency&&c(current_currency)}),jQuery(document.body).on("wc_booking_form_changed wc_currency_converter_calculate",function(){current_currency&&c(current_currency)}),current_currency?c(current_currency):(jQuery('ul.currency_switcher li a[data-currencycode="'+wc_currency_converter_params.currency+'"]').addClass("active"),jQuery("select.currency_switcher").val(wc_currency_converter_params.currency)),jQuery(document.body).on("click","a.wc-currency-converter-reset",function(){return jQuery("span.amount, #shipping_method option").each(function(){var r=jQuery(this).attr("data-original");void 0!==r&&!1!==r&&jQuery(this).html(r)}),jQuery("ul.currency_switcher li a").removeClass("active"),jQuery('ul.currency_switcher li a[data-currencycode="'+wc_currency_converter_params.currency+'"]').addClass("active"),jQuery("select.currency_switcher").val(wc_currency_converter_params.currency),jQuery.cookie("woocommerce_current_currency","",{expires:7,path:"/"}),current_currency="",jQuery("body").trigger("currency_converter_reset"),jQuery(".price_slider").size()>0&&jQuery("body").trigger("price_slider_slide",[jQuery(".price_slider").slider("values",0),jQuery(".price_slider").slider("values",1)]),!1}).on("click",'ul.currency_switcher li a:not(".reset")',function(){return current_currency=jQuery(this).attr("data-currencycode"),c(current_currency),jQuery.cookie("woocommerce_current_currency",current_currency,{expires:7,path:"/"}),!1}).on("change","select.currency_switcher",function(){return current_currency=jQuery(this).val(),c(current_currency),jQuery.cookie("woocommerce_current_currency",current_currency,{expires:7,path:"/"}),!1})});